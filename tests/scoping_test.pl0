(* Ergebnis -> 25 = 3+4+5+6+7 *)
(* Innere funktion erhöht globales x um i und wird nur für i>=3 aufgerufen *)
VAR x;

PROCEDURE Outer;
VAR i;

  PROCEDURE IncBy;
  VAR k;
  BEGIN
    k := i;          (* local k, uses outer i *)
    x := x + k       (* updates global x *)
  END;

BEGIN
  i := 1;
  WHILE i <= 7 DO
  BEGIN
    IF i >= 3 THEN CALL IncBy;
    i := i + 1
  END
END;

BEGIN
  x := 0;
  CALL Outer;
  ! x
END.
